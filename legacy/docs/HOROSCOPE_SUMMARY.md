# üåü –ü–û–õ–ù–´–ô –ü–ï–†–°–û–ù–ê–õ–¨–ù–´–ô –ì–û–†–û–°–ö–û–ü - –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –¢–∏–ø—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- `src/lib/horoscope/types.ts` - –ü–æ–ª–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è AspectType, TransitHit, FullHoroscope
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–ª–µ–π: score, tldr, keyTransits, sections, moon, timeline

### 2. –†–∞—Å—á—ë—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–æ–≤ 
- `src/lib/horoscope/transit.ts` - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–æ–≤ –∫ –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–µ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∞–¥–∞–ø—Ç–µ—Ä–æ–º —ç—Ñ–µ–º–µ—Ä–∏–¥
- –ê—Å–ø–µ–∫—Ç—ã: —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —Å–µ–∫—Å—Ç–∏–ª—å, –∫–≤–∞–¥—Ä–∞—Ç, —Ç—Ä–∏–≥–æ–Ω, –æ–ø–ø–æ–∑–∏—Ü–∏—è
- –°–∏—Å—Ç–µ–º–∞ –≤–µ—Å–æ–≤ –¥–ª—è –ø–ª–∞–Ω–µ—Ç, –∞—Å–ø–µ–∫—Ç–æ–≤, –¥–æ–º–æ–≤
- –û—Ä–±—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∞—Å–ø–µ–∫—Ç–∞
- –§–∞–∑—ã –õ—É–Ω—ã –∏ –µ—ë –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –¥–æ–º–µ

### 3. –ü—Ä–∞–≤–∏–ª–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- `src/lib/horoscope/rules.json` - 60+ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–ª–∞–Ω–µ—Ç –∏ –∞—Å–ø–µ–∫—Ç–æ–≤
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–µ–∫—Ü–∏—è–º: –ª—é–±–æ–≤—å, —Ä–∞–±–æ—Ç–∞, –∑–¥–æ—Ä–æ–≤—å–µ, —Ä–∞–∑–≤–∏—Ç–∏–µ
- –ó–Ω–∞—á–µ–Ω–∏—è –¥–æ–º–æ–≤ –∏ —Ü–≤–µ—Ç–∞ –∑–Ω–∞–∫–æ–≤ –õ—É–Ω—ã

### 4. –°–±–æ—Ä—â–∏–∫ –≥–æ—Ä–æ—Å–∫–æ–ø–∞
- `src/lib/horoscope/build.ts` - –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥–æ—Ä–æ—Å–∫–æ–ø–∞
- –í—ã–±–æ—Ä —Ç–æ–ø-3 —Ç—Ä–∞–Ω–∑–∏—Ç–æ–≤ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –≤–ª–∏—è–Ω–∏–π
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–≤–µ—Ç–æ–≤ –ø–æ 4 —Å–µ–∫—Ü–∏—è–º
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è TL;DR —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ–º, —ç–Ω–µ—Ä–≥–∏–µ–π, —Ñ–æ–∫—É—Å–æ–º
- Timeline –¥–Ω—è (—É—Ç—Ä–æ/–¥–µ–Ω—å/–≤–µ—á–µ—Ä) —Å —Å–æ–≤–µ—Ç–∞–º–∏
- –°—á–∞—Å—Ç–ª–∏–≤–æ–µ —á–∏—Å–ª–æ –∏ —Ü–≤–µ—Ç –¥–Ω—è

### 5. API —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `src/app/api/horoscope/full/route.ts` - –ü–æ–ª–Ω—ã–π API —ç–Ω–¥–ø–æ–∏–Ω—Ç
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 6 —á–∞—Å–æ–≤ –ø–æ –∫–ª—é—á—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å+–¥–∞—Ç–∞
- –ë–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OpenAI - —Ç–æ–ª—å–∫–æ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 6. –ö—Ä–∞—Å–∏–≤—ã–π UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `src/app/horoscope/page.tsx` - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–æ—Ä–æ—Å–∫–æ–ø–∞
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ç–µ–Ω—è–º–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –§—É–Ω–∫—Ü–∏—è "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" –≥–æ—Ä–æ—Å–∫–æ–ø–æ–º
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—á–µ—Ç–∞ –¥–Ω—è
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏

### 7. –£–ª—É—á—à–µ–Ω–Ω—ã–π —á–∞—Ç-—Å—Ç—Ä–∞–∂
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–µ–≥–µ–∫—Å—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–º
- –ë–æ–ª–µ–µ —Ç–∞–∫—Ç–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –≠–º–æ–¥–∑–∏ –≤ –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –≤—ã–±–æ—Ä–∞ —Ç–µ–º
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è

### 8. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- useKeyboardInsets —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —á–∞—Ç
- CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è --kb –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
- Sticky –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–ø—É—Ç–∞

### 9. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–ª—å—Ü–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ SVG —Ñ–∞–π–ª –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∫—Ä—É–≥–∞
- –ü–æ–∫–∞–∑ –ª–∏–±–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ NatalWheel, –ª–∏–±–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### API `/api/horoscope/full`
**–í—Ö–æ–¥:**
```json
{
  "birth": {
    "date": "1990-06-15",
    "time": "14:30", 
    "tzOffset": 3,
    "lat": 55.7558,
    "lon": 37.6173
  },
  "userId": "123456"
}
```

**–í—ã—Ö–æ–¥:**
```json
{
  "dateISO": "2024-01-15",
  "score": 78,
  "tldr": {
    "mood": "—Ä–æ–≤–Ω—ã–π",
    "energy": "–≤—ã—Å–æ–∫–∞—è", 
    "focus": "–Ω–∞ –¥–µ—Ç–∞–ª—è—Ö",
    "lucky": { "color": "#4ECDC4", "number": 7 }
  },
  "keyTransits": [
    {
      "title": "Jupiter —Ç—Ä–∏–≥–æ–Ω Sun –≤ 10 –¥–æ–º–µ",
      "why": "–ì–∞—Ä–º–æ–Ω–∏—á–Ω—ã–π –Æ–ø–∏—Ç–µ—Ä –∫ –°–æ–ª–Ω—Ü—É –¥–∞—ë—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É, —Ä–æ—Å—Ç –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.",
      "advice": "–ü—Ä–æ—Å–∏ –æ –±–æ–ª—å—à–µ–º –∏ –≤—ã—Ö–æ–¥–∏ –Ω–∞ –ª—é–¥–µ–π –≤—ã—à–µ –ø–æ —Å—Ç–∞—Ç—É—Å—É. –§–æ–∫—É—Å –Ω–∞: –∫–∞—Ä—å–µ—Ä–∞ –∏ —Å—Ç–∞—Ç—É—Å."
    }
  ],
  "sections": {
    "love": ["–í—Ä–µ–º—è –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏–∏ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö"],
    "work": ["–ü—Ä–æ—Å–∏ –æ –±–æ–ª—å—à–µ–º –∏ –≤—ã—Ö–æ–¥–∏ –Ω–∞ –ª—é–¥–µ–π –≤—ã—à–µ –ø–æ —Å—Ç–∞—Ç—É—Å—É"],
    "health": ["–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –±–∞–ª–∞–Ω—Å –∏ —Ä–µ–∂–∏–º"], 
    "growth": ["–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏"]
  },
  "moon": {
    "sign": "Taurus",
    "phase": "–†–∞—Å—Ç—É—â–∞—è –õ—É–Ω–∞",
    "house": 2,
    "tip": "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –Ω–∞—á–∞—Ç–æ–µ, –Ω–∞–∫–∞–ø–ª–∏–≤–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã"
  },
  "timeline": [
    {
      "part": "morning",
      "score": 85,
      "tips": ["–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã", "–°–ª–µ–¥–∏—Ç–µ –∑–∞ —ç–Ω–µ—Ä–≥–∏–µ–π"]
    }
  ]
}
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å: <1.5—Å 
- üöÄ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: <200–º—Å
- üíæ –ö–µ—à: 6 —á–∞—Å–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è+–¥–∞—Ç—É
- üéØ –ë–µ–∑ OpenAI API - —Ç–æ–ª—å–∫–æ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã

## ‚úÖ –ü—Ä–∏—ë–º–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞
- [x] pnpm typecheck ‚úÖ
- [x] pnpm build ‚úÖ  
- [x] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç –±–µ–∑ OpenAI
- [x] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç TL;DR, —Ç–æ–ø-3 –≤–ª–∏—è–Ω–∏—è, 4 —Å–µ–∫—Ü–∏–∏, –õ—É–Ω—É, Timeline
- [x] –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [x] –ß–∞—Ç-—Å—Ç—Ä–∞–∂ —Å—Ç–∞–ª —Ç–∞–∫—Ç–∏—á–Ω–µ–µ
- [x] –ò–Ω–ø—É—Ç –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- [x] –ö–æ–ª—å—Ü–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –≥–æ—Ç–æ–≤–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.