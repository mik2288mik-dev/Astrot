:root{
  --tg-viewport-height: 100dvh;
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
  --bg: var(--tg-theme-bg-color, #0e0d1b);
  --fg: var(--tg-theme-text-color, #fff);
  --hint: var(--tg-theme-hint-color, #a5a7ac);
  --accent: var(--tg-theme-button-color, #6d4cff);
  --accent-fg: var(--tg-theme-button-text-color, #fff);
  --radius: 20px;
}
html, body, #__next, #app-root { height: 100%; min-height: 100%; }
body{ margin:0; background:var(--bg); color:var(--fg); }
.app-shell{
  height: var(--tg-viewport-height);
  min-height: var(--tg-viewport-height);
  display:flex; flex-direction:column; overflow:hidden;
}
.page{
  flex:1 1 auto; display:flex; flex-direction:column;
  padding: max(12px, var(--safe-top)) 16px calc(12px + var(--bottom-nav-h,0px) + var(--safe-bottom));
  gap: 12px; overflow:auto; -webkit-overflow-scrolling:touch;
}
.card{
  border-radius: var(--radius);
  background: color-mix(in oklab, var(--bg) 92%, #000);
  border: 1px solid color-mix(in oklab, var(--bg) 60%, #fff);
  box-shadow: 0 6px 20px rgba(0,0,0,.25);
  padding: 16px;
}
.btn{ background:var(--accent); color:var(--accent-fg); border:0; border-radius:14px; padding:14px 16px; font-weight:700; }
.btn:disabled{ opacity:.7 }
.bottom-nav{
  position:fixed; left:0; right:0; bottom:0; z-index:50;
  height: calc(64px + var(--safe-bottom));
  --bottom-nav-h: calc(64px + var(--safe-bottom));
  background: color-mix(in oklab, var(--bg) 90%, #000);
  border-top: 1px solid color-mix(in oklab, var(--bg) 65%, #fff);
  display:flex; align-items:center; justify-content:space-around;
  padding-bottom: var(--safe-bottom);
}
.fab{
  position:absolute; left:50%; transform:translateX(-50%) translateY(-24px);
  width:64px; height:64px; border-radius:9999px; background:var(--accent); color:var(--accent-fg);
  display:flex; align-items:center; justify-content:center; font-size:24px; box-shadow:0 10px 30px rgba(0,0,0,.45);
}

/* Form elements */
input, select{
  width:100%; border-radius:12px; padding:12px 14px; font-size:14px; border:1px solid color-mix(in oklab, var(--bg) 65%, #fff);
  background:color-mix(in oklab, var(--bg) 95%, #000); color:var(--fg);
}
input:focus, select:focus{ outline:2px solid var(--accent); outline-offset:1px; }
label{ display:block; font-size:12px; color:var(--hint); margin-bottom:4px; font-weight:500; }