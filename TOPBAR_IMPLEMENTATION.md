# TopBar —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Telegram SDK

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **–¢–∏–ø—ã –∏ —Ö—É–∫ –¥–ª—è Telegram SDK** (`src/lib/telegram.ts`)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã `TgUser` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
- –§—É–Ω–∫—Ü–∏—è `getTelegramUser()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –•—É–∫ `useTelegramUser()` —Å –ø–æ–ª–ª–∏–Ω–≥–æ–º –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ SDK (–¥–æ 1.8 —Å–µ–∫)

### 2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç TopBar** (`src/components/top/TopBar.tsx`)
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–µ—Ä—Ö–Ω–∏–π –±–∞—Ä —Å —É—á–µ—Ç–æ–º safe-area-inset-top
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞ (–∫—Ä—É–≥–ª—ã–π, 40√ó40px)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏/username –∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–∫–µ–ª–µ—Ç–æ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä —Å –ø–µ—Ä–≤–æ–π –±—É–∫–≤–æ–π –∏–º–µ–Ω–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–æ—Ç–æ

### 3. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç TelegramInit** (`src/components/top/TelegramInit.tsx`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
- –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ `ready()` –∏ `expand()`

### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ layout** (`src/app/layout.tsx`)
- TopBar –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞: `pt-[calc(76px+env(safe-area-inset-top,0px))]`

## üé® –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Astrot):
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞: `#4A3D5C` (–∑–∞–≥–æ–ª–æ–≤–∫–∏), `#9B8FAB` (–ø–æ–¥—Ç–µ–∫—Å—Ç—ã)
- –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã: –æ—Ç `#FFE0EC` –¥–æ `#E8D5FF` (–ø–∞—Å—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–Ω–∞)
- –§–æ–Ω –±–∞—Ä–∞: –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å backdrop-blur
- –¢–µ–Ω–∏: –º—è–≥–∫–∏–µ —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º –æ—Ç—Ç–µ–Ω–∫–æ–º

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–∏–∑–∞–π–Ω–∞:
- –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ: `rounded-3xl` (–±–æ–ª—å—à–∏–µ —Ä–∞–¥–∏—É—Å—ã)
- –ê–Ω–∏–º–∞—Ü–∏–∏: –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ pulse-—ç—Ñ—Ñ–µ–∫—Ç—ã
- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: 3 –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ —Å–ø—Ä–∞–≤–∞

## üì± –ü–æ–≤–µ–¥–µ–Ω–∏–µ

### –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤ Telegram WebApp:
1. SDK –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `window.Telegram.WebApp.initDataUnsafe.user`
3. –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è: –∞–≤–∞—Ç–∞—Ä, –∏–º—è/username, ID

### –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–Ω–µ Telegram:
1. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ì–æ—Å—Ç—å" –±–µ–∑ ID
2. –°–∫–µ–ª–µ—Ç–æ–Ω –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 1.8 —Å–µ–∫
3. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: `/test-telegram`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è SDK
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–º–∏—Ç–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

‚úÖ –í–µ—Ä—Ö–Ω–∏–π –±–∞—Ä –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram SDK  
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–∞, –∏–º–µ–Ω–∏ –∏ ID  
‚úÖ Graceful degradation –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ SDK  
‚úÖ –°—Ç–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–∏–∑–∞–π–Ω—É Astrot  
‚úÖ –£—á—Ç–µ–Ω—ã safe-area –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤  
‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–∞—Ä–æ–º  

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ layout. –ù–∏–∫–∞–∫–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```tsx
import { useTelegramUser } from "@/lib/telegram";

const { user, loaded } = useTelegramUser();
```